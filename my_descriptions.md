1. python manage.py makemigrations
2. python manage.py migrate
3. python manage.py shell
4. from news.models import *
5. user1 = User.objects.create(username='Mike', first_name='Frank')
6. Author.objects.create(authorUser=user1)
7. user2 = User.objects.create(username='Irina', first_name='Akhan')
8. Author.objects.create(authorUser=user2)
9. Category.objects.create(name='IT')
10. Category.objects.create(name='Education')
11. Category.objects.create(name='Business')
12. Category.objects.create(name='Sport')
13. Post.objects.create(author=Author.objects.get(authorUser=User.objects.get(username='Mike')), categoryType='NW', title='something title of news 1', text='something text of news 1')
14. Post.objects.create(author=Author.objects.get(authorUser=User.objects.get(username='Mike')), categoryType='AR', title='something title of article 1', text='something article 1 text')
15. Post.objects.create(author=Author.objects.get(authorUser=User.objects.get(username='Irina')), categoryType='AR', title='something title of Irina article 2', text='something article 2 of Irina')
16. p1 = Post.objects.get(pk=1)
17. p2 = Post.objects.get(pk=2)
18. p3 = Post.objects.get(pk=3)
19. c1 = Category.objects.get(name='IT')
20. c2 = Category.objects.get(name='Education')
21. c3 = Category.objects.get(name='Business')
22. c4 = Category.objects.get(name='Sport')
23. p1.postCategory.add(c1)
24. p2.postCategory.add(c1, c2)
25. p3.postCategory.add(c2)
26. Comment.objects.create(commentUser=User.objects.get(username='Mike'), commentPost=Post.objects.get(pk=1), text='comment text 1')
27. Comment.objects.create(commentUser=User.objects.get(username='Mike'), commentPost=Post.objects.get(pk=2), text='comment text 2')
28. Comment.objects.create(commentUser=User.objects.get(username='Irina'), commentPost=Post.objects.get(pk=3), text='comment text 3')
29. Comment.objects.create(commentUser=User.objects.get(username='Mike'), commentPost=Post.objects.get(pk=3), text='comment text 4')
30. Post.objects.get(pk=1).like()
31. Post.objects.get(pk=1).like()
32. Post.objects.get(pk=2).like()
33. Post.objects.get(pk=3).dislike()
34. Post.objects.get(pk=2).like()
35. Comment.objects.get(pk=1).like()
36. Comment.objects.get(pk=1).like()
37. Comment.objects.get(pk=2).like()
38. Comment.objects.get(pk=3).dislike()
39. Comment.objects.get(pk=2).like()
40. Author.objects.get(authorUser=User.objects.get(username='Mike')).update_rating()
41. Author.objects.get(authorUser=User.objects.get(username='Irina')).update_rating()
42. author1 = Author.objects.get(authorUser=User.objects.get(username='Mike'))
43. author1.ratingAuthor
44. author2 = Author.objects.get(authorUser=User.objects.get(username='Irina'))
45. author2.ratingAuthor
46. bestAuthor = Author.objects.all().order_by('-ratingAuthor').values('authorUser__username', 'ratingAuthor')[0]
47. print(bestAuthor)
48. bestPost = Post.objects.filter(categoryType='AR').order_by('-rating').values('dateCreation', 'author__authorUser__username', 'title', 'rating')[0]
49. bestPost['preview'] = Post.objects.filter(categoryType='AR').order_by('-rating')[0].preview()
50. print(bestPost)
51. all_comments = Comment.objects.all().values('dateCreation', 'commentUser__username', 'rating', 'text')
52. print(all_comments)